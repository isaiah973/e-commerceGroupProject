<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Cart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: "Roboto", sans-serif;
      }
    </style>
  </head>
  <body class="bg-gray-100 min-h-screen">
 <!-- NAVBAR------------------------- -->
  <nav class="relative sticky top-0 z-[10000] bg-white md:gap-[100px] md:w-full  flex lg:gap-[200px] bg-whitesmoke h-[7vh] lg:px-2.5 px-2 justify-center font-medium items-center shadow-lg">
    <!-- burger menu -->
     <img onclick="toggle()" id="burger" class=" absolute left-5 w-[30px] lg:hidden md:hidden" src="images/burger-bar.png" alt="">
     <!--  -->
   
    <div class="hidden lg:flex md:flex md:space-x-5 flex lg:space-x-10 items-center justify-center text-[#4b4a44] text-[16px]">
      <a class="hover:border-b-4 hover:border-b-[#ffd700] font-semibold" href="women.html"><p>Women</p></a>
      <a class="hover:border-b-4 hover:border-b-[#ffd700] font-semibold" href="men.html"><p>Men</p></a>
      <a class="hover:border-b-4 hover:border-b-[#ffd700] font-semibold" href="jewellery.html"><p>Jewellery</p></a>

    </div>

    <a href="index.html"><div class="flex flex-col"><p class="text-center m-auto font-bold text-2xl lg:mr-2 mr-[50px]">PAGATTS</p>
    <div id="pagatts-slide" class="animate-ping bg-[#ffd700] h-[4px] w-[107px]"></div></div>
    </a>
    <div class=" flex space-x-3 lg:items-center items-end lg:justify-center justify-between">
      <div class="flex mr-[-80px] lg:mr-0 md:mr-0 md:ml-0 lg:ml-0 ml-[100px]"><input placeholder="Search" type="text" class="text-gray-400 border-[1px] md:w-20 lg:w-[200px] w-[100px] border-gray-300 outline-none mr-[5px] pl-2 placeholder:text-sm"><button class="border-[1px] border-gray-300 ml-[-5px] pl-[1px] flex items-center justify-cente"><img class="w-[18px] " src="images/search (1).png" alt=""></button></div>
     <div class="">
       <div class="hidden lg:flex md:flex flex gap-5 items-center justify-center">
         <img id="loginIcon" href="" class="w-[22px]" src="images/icons8-user-32.png" alt="">
         <!--MYCART AND UPDATE CART COUNT-->
       <a href="myCart.html" class="relative">
          <img class="w-[20px]" src="images/shopping-cart.png" alt="Cart">
          <span id="cartCount" class="absolute -top-2 -right-2 bg-black text-white text-[10px] w-[18px] h-[18px] rounded-full flex items-center justify-center font-bold">0</span>
       </a>

        <a href="contact.html"><img class="w-[20px]" src="images/icons8-contact-50 (1).png" alt=""></a>
        
      </div>
      <div class="bg-[#ffd700] h-[4px] w-[107px] mt-[1px] hidden lg:flex md:flex"></div>
     </div>
    </div>
  </nav>

   <aside id="sidebar" class=" z-[3500] fixed h-[93vh] w-[100%]">
      <div class="  h-[100vh] w-[100%] bg-white">
         <ul class="py-5 flex flex-col">

            <a href="women.html"><li class="cursor-pointer py-2 pl-4 flex items-baseline bg-white relative hover:bg-gray-300"><img class="w-6" src="images/woman.png" alt=""><p class="absolute left-[55px] top-[12px]">Women</p></li></a>

           <a href="men.html"> <li class="cursor-pointer py-2 pl-4 flex items-baseline bg-white relative hover:bg-gray-300"><img class="w-6" src="images/man.png" alt=""><p class="absolute left-[55px] top-[12px]">Men</p></li></a>

           <a href="jewellery.html"> <li class="cursor-pointer py-2 pl-4 flex items-baseline bg-white relative hover:bg-gray-300"><img class="w-6" src="images/diamond.png" alt=""><p class="absolute left-[55px] top-[12px]">Jewellery</p></li></a>

          <a href="">  <li class="cursor-pointer py-2 pl-4 flex items-baseline bg-white relative hover:bg-gray-300"><img class="w-6" src="images/user.png" alt=""><p class="absolute left-[55px] top-[12px]">Login</p></li></a>

           <a href="myCart.html"> <li class="cursor-pointer py-2 pl-4 flex items-baseline bg-white relative hover:bg-gray-300"><img class="w-6" src="images/shopping-cart.png" alt=""><p class="absolute left-[55px] top-[12px]">Cart</p></li></a>

           <a href="contact.html"> <li class="cursor-pointer py-2 pl-4 flex items-baseline bg-white relative hover:bg-gray-300"><img class="w-6" src="images/icons8-contact-50 (1).png" alt=""><p class="absolute left-[55px] top-[12px]">Contact</p></li></a>

          </ul>
      </div>
    </aside>

    <div class="max-w-5xl mx-auto p-6 text-center">
      <h1 class="text-3xl font-bold mb-6">Your Shopping Cart</h1>

      <div id="cartItems" class="space-y-1 flex flex-col justify-center"></div>

      <div
        id="info"
        class="mt-10 flex justify-between items-center border-t pt-6"
      >
        <p class="text-xl font-semibold">
          Total: <span id="totalPrice" class="text-black">&#8358;0.00</span>
        </p>
        <a href="checkoutpage.html">
          <button
            class="bg-black text-white px-6 py-3 rounded hover:bg-white hover:text-black border hover:border-black transition"
          >
            Checkout
          </button>
        </a>
      </div>
    </div>

    <script>
       const sidebar = document.getElementById("sidebar");
   sidebar.style.display="none";
  function toggle() {
   
  if (sidebar.style.display === "none") {
    sidebar.style.display = "block";
  } else {
    sidebar.style.display = "none";
  }
}


      const cartItemsContainer = document.getElementById("cartItems");
      const totalPriceElement = document.getElementById("totalPrice");
      const info = document.getElementById("info");

      function renderCart() {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        cartItemsContainer.innerHTML = "";

        let total = 0;

        if (cart.length === 0) {
          cartItemsContainer.innerHTML =
            '<p class="text-gray-600 text-lg h-[100vh] m-auto"><img src="images/empty-cart.png"/>Your cart is empty.</p>';
          totalPriceElement.textContent = "&#8358;0.00";
          info.innerHTML = "";
          return;
        }

        cart.forEach((item, index) => {
          const itemTotal = item.price * item.quantity;
          total += itemTotal;

          const cartItem = document.createElement("div");
          cartItem.className =
            "bg-white p-4 shadow rounded flex items-center space-x-6";

          cartItem.innerHTML = `
            <img src="${item.image}" class="w-28 h-28 object-contain border rounded" />
            <div class="flex-1">
              <h2 class="text-xl font-semibold mb-1">${item.title}</h2>
              <p class="text-sm text-gray-500 mb-1">${item.description}</p>
              <p class="text-black font-bold mb-2">&#8358;${item.price} x ${item.quantity}</p>
              <div class="flex items-center space-x-3">
                <button data-index="${index}" class="decrease bg-black text-white px-3 py-1 text-xs rounded">-</button>
                <span>${item.quantity}</span>
                <button data-index="${index}" class="increase bg-black text-white px-3 py-1 text-xs rounded">+</button>
                <button data-index="${index}" class="remove text-red-500 text-xs hover:underline">Remove</button>
              </div>
            </div>
          `;

          cartItemsContainer.appendChild(cartItem);
        });

        totalPriceElement.textContent = `$${total.toFixed(2)}`;
        attachListeners();
      }

      function attachListeners() {
        document.querySelectorAll(".increase").forEach((button) => {
          button.addEventListener("click", (e) => {
            const index = e.target.dataset.index;
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart[index].quantity += 1;
            localStorage.setItem("cart", JSON.stringify(cart));
            renderCart();
          });
        });

        document.querySelectorAll(".decrease").forEach((button) => {
          button.addEventListener("click", (e) => {
            const index = e.target.dataset.index;
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            if (cart[index].quantity > 1) {
              cart[index].quantity -= 1;
              localStorage.setItem("cart", JSON.stringify(cart));
              renderCart();
            }
          });
        });

        document.querySelectorAll(".remove").forEach((button) => {
          button.addEventListener("click", (e) => {
            const index = e.target.dataset.index;
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart.splice(index, 1);
            localStorage.setItem("cart", JSON.stringify(cart));
            renderCart();
          });
        });
      }

      renderCart();
    </script>
  </body>
</html>
